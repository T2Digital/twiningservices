<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø§Ø­Ø¬Ø² Ø®Ø¯Ù…Ø© ØªÙ†Ø¸ÙŠÙ Ø§Ø­ØªØ±Ø§ÙÙŠØ© | ØªÙˆÙŠÙ†ÙŠÙ†Ø¬</title>
  <meta name="description" content="Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø®Ø¯Ù…Ø§Øª ØªÙ†Ø¸ÙŠÙ Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ù†Ø§Ø²Ù„ ÙˆØ§Ù„Ù…ÙƒØ§ØªØ¨ Ù…Ù† ØªÙˆÙŠÙ†ÙŠÙ†Ø¬. Ø­Ø¬Ø² Ø³Ù‡Ù„ ÙˆØ³Ø±ÙŠØ¹ ÙˆØ¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©.">
  <meta name="keywords" content="ØªÙ†Ø¸ÙŠÙ Ù…Ù†Ø§Ø²Ù„, ØªÙ†Ø¸ÙŠÙ Ù…ÙƒØ§ØªØ¨, Ø´Ø±ÙƒØ© Ù†Ø¸Ø§ÙØ©, ØªÙˆÙŠÙ†ÙŠÙ†Ø¬">
  <meta name="theme-color" content="#e0f7fa">

  <!-- EmailJS Library -->
  <script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>
  <script>
    (function(){
      emailjs.init("sGBVVDlpms13iC8Lb");
    })();
  </script>

  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      direction: rtl;
      background: #e0f7fa;
      margin: 0;
      padding: 0;
    }
    .container {
      width: 90%;
      max-width: 400px;
      margin: 20px auto;
      padding: 20px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
    select, input, textarea, button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
    }
    .logo {
      width: 100px;
      height: auto;
      margin-bottom: 10px;
    }
    .serviceItem {
      border: 1px solid #ddd;
      border-radius: 5px;
      padding: 10px;
      margin-top: 10px;
      background: #f9f9f9;
    }
    .note {
      background: #fffae6;
      padding: 10px;
      border: 1px dashed #e0c200;
      margin-top: 10px;
      border-radius: 5px;
    }
    .success {
      background-color: #d4edda;
      color: #155724;
      padding: 15px;
      margin-top: 15px;
      border: 1px solid #c3e6cb;
      border-radius: 5px;
      display: none;
    }
    #loading {
      display: none;
      margin-top: 10px;
      color: #007BFF;
    }
  </style>
</head>
<body>
  <div class="container">
    <img src="https://i.postimg.cc/bvjDNQ0j/Whats-App-Image-2025-04-07-at-21-17-23-e65cadc5-removebg-preview.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ø´Ø±ÙƒØ©" class="logo">
    <h2>Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø© - ØªÙˆÙŠÙ†ÙŠÙ†Ø¬ Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù†Ø¸Ø§ÙØ©</h2>
    <div id="servicesContainer">
      <div class="serviceItem">
        <label>Ø§Ø®ØªØ± Ø§Ù„Ø®Ø¯Ù…Ø©</label>
        <select class="service" onchange="calculatePrice()">
          <option value="35">Ø®Ø¯Ù…Ø© ØªÙ†Ø¸ÙŠÙ Ø¹Ù…ÙŠÙ‚ - 35 Ø¬Ù†ÙŠÙ‡ Ù„Ù„Ù…ØªØ±</option>
          <option value="50">ØªÙ†Ø¸ÙŠÙ Ù…Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø¨Ù†Ø§Ø¡ ÙˆØ§Ù„ØªØ´Ø·ÙŠØ¨ - 50 Ø¬Ù†ÙŠÙ‡ Ù„Ù„Ù…ØªØ±</option>
          <option value="75">ØªÙ†Ø¸ÙŠÙ Ø´Ù„ØªØ© Ø§Ù„Ø§Ù„ÙŠØ§Ù Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ© - 75 Ø¬Ù†ÙŠÙ‡</option>
          <option value="75">ØªÙ†Ø¸ÙŠÙ Ù…ÙˆÙƒÙŠØª Ø¹Ø§Ø¯Ù‰ - 75 Ø¬Ù†ÙŠÙ‡ Ù„Ù„Ù…ØªØ±</option>
          <option value="75">ØªÙ†Ø¸ÙŠÙ Ù…ÙˆÙƒÙŠØª ÙØ§ÙŠÙŠØ± - 75 Ø¬Ù†ÙŠÙ‡ Ù„Ù„Ù…ØªØ±</option>
          <option value="75">ØªÙ†Ø¸ÙŠÙ Ù…Ø®Ø¯Ø§Øª Ø§Ù„ÙƒÙ†Ø¨ - 75 Ø¬Ù†ÙŠÙ‡ Ù„Ù„ÙˆØ§Ø­Ø¯Ø©</option>
          <option value="600">ØªÙ†Ø¸ÙŠÙ ÙƒÙ†Ø¨Ø© Ù¢ Ù…Ù‚Ø¹Ø¯ - 600 Ø¬Ù†ÙŠÙ‡</option>
          <option value="750">ØªÙ†Ø¸ÙŠÙ ÙƒÙ†Ø¨Ø© Ù£ Ù…Ù‚Ø¹Ø¯ - 750 Ø¬Ù†ÙŠÙ‡</option>
          <option value="1400">ØªÙ†Ø¸ÙŠÙ ÙƒØªØ¨Ø© Ø­Ø±Ù ( L) - 1400 Ø¬Ù†ÙŠÙ‡</option>
          <option value="75">ØªÙ†Ø¸ÙŠÙ Ù…Ø®Ø¯Ø§Øª ØµØºÙŠØ±Ø© - 75 Ø¬Ù†ÙŠÙ‡ Ù„Ù„ÙˆØ§Ø­Ø¯Ø©</option>
          <option value="100">ØªÙ†Ø¸ÙŠÙ Ù…Ø®Ø¯Ø§Øª ÙƒØ¨ÙŠØ±Ø© - 100 Ø¬Ù†ÙŠÙ‡ Ù„Ù„ÙˆØ§Ø­Ø¯Ø©</option>
          <option value="250">ØªÙ†Ø¸ÙŠÙ ÙƒØ±Ø³Ù‰ Ø§Ù†ØªÙŠØ±ÙŠÙ‡ - 250 Ø¬Ù†ÙŠÙ‡</option>
          <option value="200">ØªÙ†Ø¸ÙŠÙ ÙƒØ±Ø³Ù‰ ØµØ§Ù„ÙˆÙ† ÙŠØ¯ Ø®Ø´Ø¨ - 200 Ø¬Ù†ÙŠÙ‡</option>
          <option value="450">ØªÙ†Ø¸ÙŠÙ ÙÙˆØªÛŒÙ‡ - 450 Ø¬Ù†ÙŠÙ‡</option>
          <option value="300">ØªÙ†Ø¸ÙŠÙ ÙƒØ±Ø³ÙŠ Ø¹Ø«Ù…Ø§Ù†Ù‰ - 300 Ø¬Ù†ÙŠÙ‡</option>
          <option value="150">ØªÙ†Ø¸ÙŠÙ ÙƒØ±Ø³Ù‰ Ø³ÙØ±Ù‡ Ø¸Ù‡Ø± ÙˆÙ‚Ø§Ø¹Ø¯Ø© - 150 Ø¬Ù†ÙŠÙ‡</option>
          <option value="100">ØªÙ†Ø¸ÙŠÙ ÙƒØ±Ø³Ù‰ Ø³ÙØ±Ø© Ù‚Ø§Ø¹Ø¯Ø© ÙÙ‚Ø· - 100 Ø¬Ù†ÙŠÙ‡</option>
          <option value="100">ØªÙ†Ø¸ÙŠÙ ÙƒØ±Ø³Ù‰ Ø¨Ø¯ÙˆÙ† Ø°Ø±Ø§Ø¹ ÙˆØ¸Ù‡Ø± - 100 Ø¬Ù†ÙŠÙ‡</option>
          <option value="300">ØªÙ†Ø¸ÙŠÙ Ø´Ø§Ø°Ù„ÙˆÙ†Ø¬ - 300 Ø¬Ù†ÙŠÙ‡</option>
          <option value="200">ØªÙ†Ø¸ÙŠÙ ÙƒØ±Ø³Ù‰ Ù‡Ø²Ø§Ø² - 200 Ø¬Ù†ÙŠÙ‡</option>
          <option value="900">ØªÙ†Ø¸ÙŠÙ Ù…Ø±ØªØ¨Ø© ÙƒÙŠØªØ¬ Ù¢Ù… - 900 Ø¬Ù†ÙŠÙ‡</option>
          <option value="800">ØªÙ†Ø¸ÙŠÙ Ù…Ø±ØªØ¨Ø© Ø¯ÙŠÙ„ Ù¡Ù¨Ù  Ø³Ù… - 800 Ø¬Ù†ÙŠÙ‡</option>
          <option value="700">ØªÙ†Ø¸ÙŠÙ Ù…Ø±ØªØ¨Ø© ÙƒÙˆÙŠÙ† Ù¡Ù¦Ù  Ø³Ù… - 700 Ø¬Ù†ÙŠÙ‡</option>
          <option value="700">ØªÙ†Ø¸ÙŠÙ Ù…Ø±ØªØ¨Ø© Ø³Ù†Ø¬Ù„ Ù¡Ù¤Ù  Ø³Ù… - 700 Ø¬Ù†ÙŠÙ‡</option>
          <option value="150">ØªÙ†Ø¸ÙŠÙ Ø´Ø¨Ø§Ùƒ ØºØ±ÙØ© Ø§Ù„ÙˆÙ…ÙŠØªØ§Ù„ - 150 Ø¬Ù†ÙŠÙ‡</option>
          <option value="300">ØªÙ†Ø¸ÙŠÙ Ø¨Ø§Ø¨ Ø¨Ù„ÙƒÙˆÙ†Ø© Ø§Ù„ÙˆÙ…ÙŠØªØ§Ù„ - 300 Ø¬Ù†ÙŠÙ‡</option>
          <option value="750">Ø§Ù„ØªÙ†Ø¸ÙŠÙ Ø§Ù„ÙŠÙˆÙ…Ù‰ Ø§Ù„Ù…Ù†ØªØ¸Ù… (10Øµ - 6Ù…) Ø¨Ø¯ÙˆÙ† Ø£Ø¯ÙˆØ§Øª - 750 Ø¬Ù†ÙŠÙ‡</option>
        </select>
        <input type="text" class="area" placeholder="Ø§Ù„Ø¹Ø¯Ø¯ Ø£Ùˆ Ø§Ù„Ù…Ø³Ø§Ø­Ø©" oninput="calculatePrice()">
        <button onclick="removeService(this)">âŒ Ø­Ø°Ù</button>
      </div>
    </div>
    <button onclick="addService()">â• Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø© Ø£Ø®Ø±Ù‰</button>
    <p>ğŸ’° Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="totalPrice">0</span> Ø¬Ù†ÙŠÙ‡</p>
    <input type="text" id="name" placeholder="Ø§Ù„Ø§Ø³Ù…" required>
    <input type="tel" id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
    <input type="text" id="address" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„" required>
    <label for="date">Ø­Ø¯Ø¯ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø¬Ø²</label>
    <input type="date" id="date" required>
    <select id="gender" required>
      <option value="Ø°ÙƒØ±">Ø°ÙƒØ±</option>
      <option value="Ø£Ù†Ø«Ù‰">Ø£Ù†Ø«Ù‰</option>
    </select>
    <textarea id="notes" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©"></textarea>
    <div class="note">
      ğŸ’µ ÙŠØ¬Ø¨ Ø¯ÙØ¹ Ù†ØµÙ Ø¥Ø¬Ù…Ø§Ù„Ù‰ Ù‚ÙŠÙ…Ø© Ø§Ù„Ø·Ù„Ø¨ Ù…Ù‚Ø¯Ù…Ù‹Ø§ (Ø£ÙŠ <span id="halfPrice">0</span> Ø¬Ù†ÙŠÙ‡)<br>
      ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¹Ù„Ù‰ Ø±Ù‚Ù… Ù…Ø­ÙØ¸Ø© <strong>01116199928</strong> ÙˆØ±ÙØ¹ ØµÙˆØ±Ø© Ø¥Ø«Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹.
    </div>
    <input type="file" id="paymentProof" accept="image/*" required>
    <button onclick="getLocation()">ğŸ“ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹</button>
    <input type="text" id="location" placeholder="Ù…ÙˆÙ‚Ø¹Ùƒ" readonly>
    <button onclick="sendWhatsApp()">ğŸ“² ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
    <div id="loading">â³ Ø¬Ø§Ø±ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨...</div>
    <div id="successMessage" class="success">âœ… ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² Ø¨Ù†Ø¬Ø§Ø­.</div>
  </div>

  <script>
    function calculatePrice() {
      let total = 0;
      document.querySelectorAll('.serviceItem').forEach(item => {
        let price = parseFloat(item.querySelector('.service').value);
        let qtyInput = item.querySelector('.area').value;
        let qty = parseFloat(qtyInput);
        if (!qtyInput || qty <= 0 || isNaN(qty)) qty = 0;
        total += price * qty;
      });
      document.getElementById("totalPrice").innerText = total;
      document.getElementById("halfPrice").innerText = Math.ceil(total / 2);
    }

    function addService() {
      let options = document.querySelector('.service').innerHTML;
      let div = document.createElement('div');
      div.className = 'serviceItem';
      div.innerHTML = `
        <label>Ø§Ø®ØªØ± Ø§Ù„Ø®Ø¯Ù…Ø©</label>
        <select class="service" onchange="calculatePrice()">${options}</select>
        <input type="text" class="area" placeholder="Ø§Ù„Ø¹Ø¯Ø¯ Ø£Ùˆ Ø§Ù„Ù…Ø³Ø§Ø­Ø©" oninput="calculatePrice()">
        <button onclick="removeService(this)">âŒ Ø­Ø°Ù</button>
      `;
      document.getElementById('servicesContainer').appendChild(div);
    }

    function removeService(button) {
      button.parentElement.remove();
      calculatePrice();
    }

    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(position => {
          const lat = position.coords.latitude;
          const lon = position.coords.longitude;
          document.getElementById("location").value = `https://www.google.com/maps?q=${lat},${lon}`;
        }, () => alert("ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹"));
      } else {
        alert("Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ");
      }
    }

    async function sendWhatsApp() {
      document.getElementById("loading").style.display = "block";
      const phoneNumber = "201021584901";
      const name = document.getElementById("name").value.trim();
      const phone = document.getElementById("phone").value.trim();
      const address = document.getElementById("address").value.trim();
      const date = document.getElementById("date").value;
      const gender = document.getElementById("gender").value;
      const notes = document.getElementById("notes").value || "Ù„Ø§ ÙŠÙˆØ¬Ø¯";
      const location = document.getElementById("location").value || "Ù„Ù… ÙŠØªÙ… Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹";
      const totalPrice = document.getElementById("totalPrice").innerText;
      const paymentProof = document.getElementById("paymentProof").files[0];
      if (!paymentProof) return alert("ÙŠØ±Ø¬Ù‰ Ø±ÙØ¹ ØµÙˆØ±Ø© Ø¥Ø«Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹.");

      const formDataImg = new FormData();
      formDataImg.append("image", paymentProof);
      const uploadRes = await fetch("https://api.imgbb.com/1/upload?key=bde613bd4475de5e00274a795091ba04", {
        method: "POST", body: formDataImg
      });
      const result = await uploadRes.json();
      const proofUrl = result.data.url;

      const services = [...document.querySelectorAll(".serviceItem")].map(item => {
        const serviceText = item.querySelector(".service").selectedOptions[0].text;
        const quantity = item.querySelector(".area").value || 0;
        return `${serviceText} - ${quantity}`;
      });

      emailjs.send("service_19gxbce", "template_xvxtz3v", {
        name, phone, gender, address, date, location, notes,
        totalPrice, services: services.join("\n"), proofUrl
      }).then(res => {
        console.log("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­", res);
      }).catch(err => {
        console.error("ÙØ´Ù„ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„", err);
      });

      fetch("https://script.google.com/macros/s/AKfycbzNvEpweXKg2BxrIfzqHSgRNnIZsYvJWXNWm5vzsAI/dev", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          name, phone, gender, address, date, location, notes,
          totalPrice, services: services.join("\n"), proofUrl
        })
      }).then(res => res.text()).then(console.log).catch(console.error);

      const message = `ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${name}\nğŸ‘« Ø§Ù„Ù†ÙˆØ¹: ${gender}\nğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${phone}\nğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹: ${location}\nğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${address}\nğŸ—“ Ø§Ù„ØªØ§Ø±ÙŠØ®: ${date}\nğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${notes}\nğŸ’° Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${totalPrice} Ø¬Ù†ÙŠÙ‡\nğŸš° Ø§Ù„Ø®Ø¯Ù…Ø§Øª:\n${services.join("\n")}\nğŸ“¸ Ø¥Ø«Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹: ${proofUrl}`;
      const waUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
      window.open(waUrl, "_blank");

      document.getElementById("loading").style.display = "none";
      document.getElementById("successMessage").style.display = "block";
    }
  </script>

<script>
function convertArabicToEnglishNumbers(str) {
    return str.replace(/[Ù -Ù©]/g, d => "Ù Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©".indexOf(d));
}

function calculatePrice() {
    let total = 0;
    document.querySelectorAll('.serviceItem').forEach(item => {
        let price = parseFloat(item.querySelector('.service').value);
        let qtyInput = item.querySelector('.area').value;
        let qtyEnglish = convertArabicToEnglishNumbers(qtyInput);
        let qty = parseFloat(qtyEnglish);
        if (!qtyInput || qty <= 0 || isNaN(qty)) qty = 0;
        total += price * qty;
    });
    document.getElementById("totalPrice").innerText = total;
    document.getElementById("halfPrice").innerText = Math.ceil(total / 2);
}
</script>

<script>
window.onload = function () {
    const ua = navigator.userAgent.toLowerCase();
    if (ua.includes('fbav') || ua.includes('instagram')) {
        alert("âš ï¸ ÙŠØ±Ø¬Ù‰ ÙØªØ­ Ø§Ù„ØµÙØ­Ø© ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ (Ù…Ø«Ù„ Chrome Ø£Ùˆ Safari) Ù„Ø¶Ù…Ø§Ù† Ø¹Ù…Ù„ Ø§Ù„Ø­Ø¬Ø² Ø¨Ø´ÙƒÙ„ Ø³Ù„ÙŠÙ….");
    }
};
</script>

<script>
function convertArabicToEnglishNumbers(str) {
    return str.replace(/[Ù -Ù©]/g, d => '0123456789'['Ù Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©'.indexOf(d)]);
}

function calculatePrice() {
    let total = 0;
    document.querySelectorAll('.serviceItem').forEach(item => {
        let price = parseFloat(item.querySelector('.service').value);
        let inputVal = item.querySelector('.area').value;
        let quantity = parseFloat(convertArabicToEnglishNumbers(inputVal)) || 0;
        total += price * quantity;
    });
    document.getElementById('totalPrice').innerText = total;
    document.getElementById('halfPrice').innerText = Math.ceil(total / 2);
}
</script>
</body>


</html>
